{% extends "layouts/default.twig" %}

{% block content %}
  {% if not post.prev.no_results %}
    <div role="navigation" class="prev traversal">
        <a href="$post.prev.url">${ ( "Next post" | translate ) }</a>
    </div>
  {% endif %}
{% include "feathers/" ~ post.feather ~ ".twig" %}
  {% if not post.next.no_results %}
    <div role="navigation" class="next traversal">
        <a href="$post.next.url">${ ( "Previous post" | translate ) }</a>
    </div>
  {% endif %}
  {% if enabled_modules.comments and (post.comment_count > 0 or post.commentable) %}
    <article role="complementary" class="commentary" id="comments">
      <ol class="comments" id="comments_$post.id">
        {% paginate site.comments_per_page comments in ( post.comments | reverse ) as comment %}
{% include "content/comment.twig" %}
        {% endpaginate %}
        <li id="comment_shim"></li> {# Needed for AJAX commenting and XHTML Strict validation. #}
        {% if post.commentable %}
        <li class="comment_form">
{% include "forms/comment/new.twig" %}
        </li>
        {% endif %}
      </ol>
    </article>
    <div class="comments_pagination traversal">
      ${ comments.prev_link( ( "Older comments" | translate ), null, null, "comments" ) }
      ${ comments.next_link( ( "Newer comments" | translate ), null, null, "comments" ) }
    </div>
  {% endif %}
{% endblock %}
